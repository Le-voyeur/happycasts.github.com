---
layout: post
title: vagrant
---
<!-- happycasts 的核心价值还是展示我自己的真实的工作流的，理论讲解属于绝对从属地位 -->
我应该是很早就知道 vagrant 了，当时有朋友跟我说这个东东可以提供自定制的虚拟机。当时我就想，靠，virtualbox 虚拟机上安装 ubuntu Linux 系统，然后我还有一个搭建开发环境的脚本，都运行了一万遍了，都已经很熟悉了。干嘛还要在多学一个 vagrant 脱裤子放屁多费一道手续呢？知道几个月前，我在 laracasts 上面看到我比较服的一个人 Jeffery Way 也用 vagrant，所以才又下定决心好好试用一下 vagrant，一是不要紧，相见恨晚啊。前两年和 vagrant 擦肩而过，现在想来就是五个字：后悔真后悔！

所以今天录个 happycasts 视频，给你展示一些 vagrant 有那几个点会让我相见恨晚。

达成目标：
- 系统上运行 vagrant + virtualbox
- clone happycasts
  - 一键运行起来
  - 需要执行的脚本就直接写到 Vagrantfile 中就行


项目跑起来之后 项目源码目录是共享的 happycasts <=> /vagrant 所以我的 Mac 中的 sublime chrome 和 搜狗输入法 photeshop 等等原件就都可以直接参与到开发中来了。

<https://vagrantcloud.com/> 找到 ubuntu/trusty64

    vagrant init ubuntu/trusty64


新建一个项目，不需要重新下载 base box
  - 我的 pdf generator 机器是不是能一个 vagrant up 就搞定呢？
    - 对，就以这个为例子

有了局域网 IP
  - 我可以在 happycasts-va 上面建多个 apache 项目了吧？
    - 可以的，参考 11：20 at https://laracasts.com/lessons/get-off-mamp-now

活干完了就把摊子清干净，vagrant destroy 挺帅，相应的 Virtualbox VMs 目录中的虚拟机文件就都没有了


- 以另外一个用户的身份运行一些代码
  - http://stackoverflow.com/questions/1988249/how-do-i-use-su-to-execute-the-rest-of-the-bash-script-as-that-user
